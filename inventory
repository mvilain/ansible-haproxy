# haproxy demo inventory

[webservers]
web1 ansible_host=192.168.10.101
web2 ansible_host=192.168.10.102
web3 ansible_host=192.168.10.103

[webservers:vars]
# Variables for the web server configuration

httpd_port=80

# this is the repository that holds our sample webapp
repository=https://github.com/bennojoy/mywebapp.git

# this is the sha1sum of V5 of the test webapp.
webapp_version=351e47276cc66b018f4890a04709d4cc3d3edb0d

[lbservers]
haproxy1 ansible_host=192.168.10.100

[lbservers:vars]
# Variables for the load balencer server configuration

# HAProxy supports "http" and "tcp". For SSL, SMTP, etc, use "tcp".
mode=http

# Port on which HAProxy should listen
listenport=80

# A name for the proxy daemon, this wil be the suffix in the logs.
daemonname=web-lb

# Balancing Algorithm. Available options:
# roundrobin, source, leastconn, source, uri
# (if persistance is required use, "source")
balance=roundrobin

# Group 'all' with all servers
[all:children]
webservers
lbservers

[all:vars]
ansible_ssh_user=vagrant
ansible_ssh_private_key_file=~/.vagrant.d/insecure_private_key
